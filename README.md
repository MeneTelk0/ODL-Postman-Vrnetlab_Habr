## Введение
__!!!ВСТАВИТЬ КАРТИНКУ!!!__
В этой статье я расскажу, как настроить __OpenDaylight__ для работы с сетевым оборудованием, а также покажу, как с помощью __Postman__ и простых __RESTCONF__ запросов этим оборудованием можно управлять. Работать с железом мы не будем, а вместо этого развернем небольшую виртуальную лабораторию из одного роутера (для демонстрации нам этого будет достаточно) с помощью __Vrnetlab__. 
Все это запускаем поверх __Ubuntu 20.04 LTS__.

__!!!ЗДЕСЬ!!! Немного рассказать про общее устройство полученной лабораторной работы с техническими характеристиками оборудования, ОС и тп__

Свой туториал я разделил на 5 частей:  __!!!ДАТЬ ССЫЛКИ НА ЧАСТИ ВНУТРИ!!!__
- В первой мы кратко обсудим __OpenDaylight (ODL)__, __Postman__ и __Vrnetlab__ и зачем они нам нужны. 
- Во второй и третьей частях мы настроим __ODL__ и __Vrnetlab__ соответственно.
- В четвертой, с помощью Postman, мы подключим виртуальный роутер (__Juniper vMX__) к __ODL__ и посмотрим, какую информацию можно из него вытащить.
- И, наконец, в пятой части мы научимся изменять конфигурацию роутера с помощью __Postman__ и __ODL__.

Для того, чтобы статья не слишком растягивалась, некоторые технические подробности я буду опускать (со ссылками на литературу, где про них можно почитать). 
Темы, которые нужно знать перед прочтением:
- Netconf (RFC 6241), RESTCONF (RFC 8040)
- XML
- Базовое понимание Docker'а
- REST  
- Базовое понимание SDN, как технологии
- YANG (RFC 6020 + RFC 7950)

## Часть первая: немного теории
---
### OpenDaylight
![](https://habrastorage.org/webt/xq/f0/ym/xqf0ymmq2em__xerlbah9pfbcfu.png)
- Открытая __SDN__ платформа для управления и автоматизации всевозможных сетей, поддерживаемая *Linux Foundation*
- Java inside 
- Основан на Model-Driven Service Abstraction Level (MD-SAL)
- Использует YANG модели для автоматического создания RESTCONF API сетевых устройств

Основной модуль для управления сетью. Именно через него мы будем общаться с подключенными устройствами. Управляется через свой собственный API.

### Postman
![](https://habrastorage.org/webt/wq/nt/7d/wqnt7d6bdj3q8b9yvsprnjqbrlc.jpeg)
- Инструмент для тестирования API
- Простой и удобный для использования интерфейс

В нашем случае он нам интересен как средство для отправки REST запросов на API OpenDaylight'а. Можно, конечно, и вручную запросы отправлять, но в Postman все выглядит очень наглядно и для наших целей подходит как нельзя лучше.
Для желающих покопаться: по нему написано много обучающих материалов (например, например). 

### Vrnetlab
Очень интересный, но малоизвестный Open Source инструмент для развертывания виртуальных роутеров в Docker'е.
Разрабатывается в Deutsche Telecom. Удобно использовать для создания лабораторных работ, тестирования и разработки. 
Поддерживает: Arista vEOS, Cisco CSR1000v, Cisco Nexus NX-OS, Cisco XRv, Juniper vMX, Nokia VSR и др.
На странице проекта можно найти подробные инструкции по установке и использованию для различных моделей сетевых устройств.

## Часть вторая: настраиваем OpenDaylight
---
![](https://habrastorage.org/webt/x_/e1/be/x_e1beuyefiadpvdhusg1uvdiga.png)
*Актуальная версия ODL на момент написания статьи - Magnesium SR1*
1) Устанавливаем __Java OpenJDK 11__ (за более подробной установкой [сюда](https://linuxize.com/post/install-java-on-ubuntu-18-04/))
````bash
sudo apt install default-jdk
````
2) Находим и скачиваем свежую сборку __ODL__ [отсюда](http://www.opendaylight.org/software/downloads).
3) Разархивируем скачанный архив
4) Переходим в полученную директорию
5) Запускаем `./bin/karaf`

На этом шаге __ODL__ должен запуститься и мы окажемся в консоли.
Далее устанавливаем __ODL Features__ предназначенные для работы с протоколами __NETCONF__ и __RESTCONF__. Для этого в консоли __ODL__ выполняем:
````
feature:install odl-netconf-topology odl-restconf-all
````
На этом простейшая настройка __ODL__ завершена. (Более подробно можно прочитать [здесь](https://docs.opendaylight.org/en/stable-magnesium/getting-started-guide/installing_opendaylight.html))

## Часть третья: настраиваем Vrnetlab
## Часть четвертая: Postman - подключаем роутер к ODL
## Часть пятая: Изменяем конфигурацию роутера
